package rules.tradeManagement;

import org.trading.model.*;
import org.trading.event.*;
import org.trading.MarketData;

dialect  "mvel"

global MarketData marketData;
global java.util.Set results;

rule "When Position Exit Generate TradeResult"
    when
      // Some event to show position is exited
    then
      insert(new TradeResult("epic"));
end

rule "Persist All Trade Results"
    when
       $tr: TradeResult()
    then
      results.add($tr);
end
